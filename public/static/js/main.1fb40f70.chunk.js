(this["webpackJsonpmichaelstore-client"]=this["webpackJsonpmichaelstore-client"]||[]).push([[0],{17:function(e,t,s){},45:function(e,t,s){},56:function(e,t,s){"use strict";s.r(t);var c,n=s(1),a=s.n(n),r=s(27),i=s.n(r),o=(s(45),s(6)),l=s(7),u=Object(n.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){},customerIsLoggedIn:!1,customerId:null,customerToken:null,customerLogin:function(){},customerLogout:function(){},messageRef:null,setMessageRef:function(){},messageBoardId:null,setMessageBoardId:function(){}}),j=s(3),d=(s(17),s(0)),b=s(2),m=s.n(b),O=s(5),h=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(n.useRef)([]),u=Object(n.useCallback)(function(){var e=Object(O.a)(m.a.mark((function e(t){var s,n,a,r,i,u,j=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=j.length>1&&void 0!==j[1]?j[1]:"GET",n=j.length>2&&void 0!==j[2]?j[2]:null,a=j.length>3&&void 0!==j[3]?j[3]:{},c(!0),r=new AbortController,l.current.push(r),e.prev=6,e.next=9,fetch(t,{method:s,body:n,headers:a,signal:r.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(u=e.sent,l.current=l.current.filter((function(e){return e!==r})),i.ok){e.next=16;break}throw new Error(u.message);case 16:return c(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),o(e.t0.message),c(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.useEffect)((function(){return function(){l.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:s,error:i,sendRequest:u,clearError:function(){o(null)}}},p=s(8),x=Object(n.createContext)({deleteModal:void 0}),f=s(4),v=s(58),g=function(e){var t=Object(d.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(d.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:Object(d.jsx)("h2",{children:e.header})}),Object(d.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(d.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return i.a.createPortal(t,document.getElementById("modal-hook"))},N=function(e){return Object(d.jsx)(v.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(d.jsx)(g,Object(f.a)({},e))})},k=function(e){return Object(d.jsx)(N,{onCancel:e.onClear,header:"Problem!",show:!!e.error,footer:Object(d.jsxs)("button",{className:"modalButton",onClick:e.onClear,children:[" ","okay"," "]}),children:Object(d.jsx)("p",{children:e.error})})},y=function(e){var t=Object(o.f)(),s=h(),c=(s.isLoading,s.error),a=s.sendRequest,r=s.clearError,i=(Object(n.useContext)(x),Object(n.useContext)(u)),b=Object(n.useState)(!1),f=Object(j.a)(b,2),v=f[0],g=f[1],N=Object(n.useState)(!1),y=Object(j.a)(N,2),C=y[0],I=y[1];Object(n.useEffect)((function(){e.description.length>=45&&I(!0)}),[e.description]);var w=function(){var s=Object(O.a)(m.a.mark((function s(){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a("".concat("https://rossbuyz.herokuapp.com/api","/admin/deleteConsumerItem/").concat(e._id),"DELETE",null,{Authorization:"Bearer "+i.token});case 3:window.location.reload(),t("/consumerGoods"),s.next=9;break;case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var s=Object(O.a)(m.a.mark((function s(){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a("".concat("https://rossbuyz.herokuapp.com/api","/customer/buyItemOnAccount"),"POST",JSON.stringify({itemId:e._id}),{"Content-Type":"application/json",Authorization:"Bearer "+i.customerToken});case 3:window.location.reload(),t("/consumerGoods"),s.next=9;break;case 7:s.prev=7,s.t0=s.catch(0);case 9:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(){return s.apply(this,arguments)}}(),T=e.price.toString(),E=T.slice(0,T.length-2)+"."+T.slice(T.length-2),M=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!=M.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&M.current.classList.add("animationTop")}))})).observe(M.current)})),Object(d.jsx)(l.b,{to:"/consumerGoods/".concat(e.id),children:Object(d.jsxs)("div",{ref:M,className:"consumerGoods--card",children:[Object(d.jsx)(k,{error:c,onClear:r}),Object(d.jsx)("div",{className:"consumerGoods--card-img-imgwrapper",children:Object(d.jsx)("img",{className:"consumerGoods--card-img",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(e.bucketPhotoId),alt:e.description})}),Object(d.jsxs)("div",{className:"consumerGoods--card-text",children:[Object(d.jsx)("p",{children:e.name}),!C&&e.description.substring(0,45),C&&Object(d.jsxs)("p",{children:[e.description.substring(0,45)," ..."]}),Object(d.jsxs)("p",{children:["$",E]})]}),i.customerToken&&Object(d.jsx)("div",{children:Object(d.jsx)("div",{onClick:L,className:"consumerGoods--card-adminText-button",children:Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.e,{})})})}),i.token&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"consumerGoods--card-adminText-button",onClick:S,children:Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.c,{})})}),v&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:"are you sure you would like to delete this?"}),Object(d.jsx)("div",{onClick:w,children:"yes"}),Object(d.jsx)("div",{onClick:D,children:"no"})]})]})]})})},C=function(e){var t=e.items.filter((function(e){return!e.sold}));return Object(d.jsx)("div",{className:"consumerGoods",children:e.items&&t.map((function(e){return Object(d.jsx)(y,{id:e._id,name:e.name,description:e.description,price:e.price,bucketPhotoId:e.bucketPhotoId},e._id)}))})},I=function(){var e=h(),t=(e.isLoading,e.error,e.sendRequest),s=(e.clearError,Object(n.useContext)(x),Object(n.useState)()),c=Object(j.a)(s,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("".concat("https://rossbuyz.herokuapp.com/api","/admin/getConsumerItems"));case 3:s=e.sent,console.log(s),r(s.findConsumerItems),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(d.jsxs)("div",{className:"consumerGoods-block",children:[a&&0===a.filter((function(e){return!e.sold})).length&&Object(d.jsx)("h1",{className:"consumerGoods-noGoods",children:"Retail Items Coming Soon!"}),a&&Object(d.jsx)(C,{items:a})]})},w=s(11),S=s.p+"static/media/opaque_spinner.95c33229.gif",D=function(e){return Object(d.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(d.jsx)("img",{src:S,alt:"spinner"})})},L=s.p+"static/media/celebration.355f616c.gif",T=function(e){var t=Object(w.a)({number:"",exp_month:"",exp_year:"",cvc:""}),s=t.register,c=t.handleSubmit,a=(t.reset,t.formState.isSubmitSuccessful,Object(o.g)().goodId),r=Object(n.useState)(!1),i=Object(j.a)(r,2),l=i[0],b=i[1],x=Object(o.f)(),v=Object(n.useContext)(u),g=h(),N=g.isLoading,y=g.error,C=g.sendRequest,I=g.clearError,S=Object(n.useState)(),T=Object(j.a)(S,2),E=T[0],M=T[1],z=Object(n.useState)(),R=Object(j.a)(z,2),B=R[0],_=R[1];Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var t,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("".concat("https://rossbuyz.herokuapp.com/api","/admin/getAConsumerItem/").concat(a));case 2:t=e.sent,M(t.findItem),s=t.findItem.price.toString(),c=s.slice(0,s.length-2)+"."+s.slice(s.length-2),_(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,C,v.token]);var P=Object(n.useState)(!1),G=Object(j.a)(P,2),A=G[0],q=G[1],J=Object(n.useState)(!1),U=Object(j.a)(J,2),V=U[0],F=U[1],H=function(){q(!1===A)},$=function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("".concat("https://rossbuyz.herokuapp.com/api","/customer/purchaseGood"),"POST",JSON.stringify({itemId:a,email:t.email,firstName:t.firstName,lastName:t.lastName,street:t.street,city:t.city,state:t.state,zipCode:t.zipCode,number:t.number,exp_month:t.exp_month,exp_year:t.exp_year,cvc:t.cvc}),{"Content-Type":"application/json"});case 3:F(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:q(!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("".concat("https://rossbuyz.herokuapp.com/api","/admin/deleteConsumerItem/").concat(a),"DELETE",null,{Authorization:"Bearer "+v.token});case 3:x("/"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("".concat("https://rossbuyz.herokuapp.com/api","/customer/buyItemOnAccount"),"POST",JSON.stringify({itemId:a}),{"Content-Type":"application/json",Authorization:"Bearer "+v.customerToken});case 3:window.location.reload(),x("/consumerGoods"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"aConsumerItem",children:[Object(d.jsx)(k,{error:y,onClear:I}),A&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{onClick:H,className:"purchaseModal-background"}),Object(d.jsxs)("div",{className:"purchaseModal animationTop",children:[Object(d.jsx)(k,{error:y,onClear:I}),N&&Object(d.jsx)(D,{asOverlay:!0}),Object(d.jsx)("h2",{className:"purchaseModal-title",children:"We need some details from you to pay for this item! Login to for free messaging, update's on package delivery, and to save your card!"}),Object(d.jsxs)("form",{onSubmit:c($),className:"purchaseModal-form",children:[Object(d.jsx)("label",{children:"email:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("email"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"first name:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("firstName"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"last name:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("lastName"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"street:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("street"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"city:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("city"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:" state:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("state"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"zip code:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},s("zipCode"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"card number"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({placeholder:"xxxx-xxxx-xxxx-xxxx",maxLength:"16"},s("number"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"exp month"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({maxLength:"2",placeholder:"xx"},s("exp_month"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"exp year"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({maxLength:"4",placeholder:"xxxx"},s("exp_year"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"cvc"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({placeholder:"xxx",maxLength:"3"},s("cvc"))),Object(d.jsx)("br",{}),Object(d.jsx)("button",{children:"purchase"})]}),Object(d.jsx)("div",{onClick:H,children:"nvm"})]})]}),E&&B&&Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer",children:[Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-infoContainer",children:[Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-img-container",children:Object(d.jsx)("img",{className:"aConsumerItem-itemContainer-img",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(E.bucketPhotoId),alt:"".concat(E.description)})}),Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-labels",children:[Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-labels-info",children:[Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-description",children:E.name}),Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-description",children:E.description.slice(0,250)}),B&&Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-description",children:B})]}),v.token&&Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-labels-button-wrapper",children:[Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-button",onClick:Q,children:Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.c,{})})}),l&&Object(d.jsxs)("div",{className:"purchaseModal-purchasedModal",children:[Object(d.jsx)("div",{className:"purchaseModal-purchasedModal-text",children:Object(d.jsx)("h2",{children:" are you sure you would like to delete this? "})}),Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-deleteButtons",onClick:W,children:"yes"}),Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-deleteButtons",onClick:Z,children:"no"})]})]}),(!v.token||!v.customerToken)&&!v.token&&!v.customerToken&&Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-button-wrapper",children:Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-button",onClick:H,children:Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.f,{})})})}),v.customerToken&&Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-button-wrapper",children:Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-button",onClick:K,children:Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.f,{})})})})]})]}),V&&Object(d.jsxs)("div",{className:"purchaseModal-purchasedModal",children:[" ",Object(d.jsxs)("div",{className:"purchaseModal-purchasedModal-text",children:[Object(d.jsx)("h2",{children:"Thanks for shopping with us. Check your email for a confirmation of your order."})," ",Object(d.jsx)("img",{className:"purchaseModal-purchasedModal-img",src:L,alt:"purchased"}),Object(d.jsxs)("button",{className:"purchaseModal-purchasedModal-button",onClick:function(){x("/home")},children:[" ","okay"," "]})]})]})]})]})},E=function(e){var t=h(),s=(t.isLoading,t.error),c=t.sendRequest,a=t.clearError,r=Object(o.f)(),i=Object(n.useContext)(u),b=Object(n.useState)(!1),x=Object(j.a)(b,2),f=x[0],v=x[1];Object(n.useEffect)((function(){e.description.length>=45&&v(!0)}),[e.description]);var g=function(){var t=Object(O.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://rossbuyz.herokuapp.com/api","/admin/deleteBulk/").concat(e._id),"DELETE",null,{Authorization:"Bearer "+i.token});case 3:window.location.reload(),r("/consumerGoods"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),N=Object(n.useState)(!1),y=Object(j.a)(N,2),C=y[0],I=y[1],w=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Object(n.useRef)(null);Object(n.useEffect)((function(){null!=D.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&D.current.classList.add("animationTop")}))})).observe(D.current)}));var L=e.price.toString(),T=L.slice(0,L.length-2)+"."+L.slice(L.length-2);return Object(d.jsx)(l.b,{to:"/bulkItems/".concat(e.id),children:Object(d.jsxs)("div",{ref:D,className:"consumerGoods--card",children:[Object(d.jsx)(k,{error:s,onClear:a}),Object(d.jsx)("div",{className:"consumerGoods--card-img-imgwrapper",children:Object(d.jsx)("img",{className:"consumerGoods--card-img",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(e.bucketPhotoId),alt:e.description})}),Object(d.jsxs)("div",{className:"consumerGoods--card-text",children:[Object(d.jsx)("p",{children:e.name}),!f&&e.description.substring(0,45),f&&Object(d.jsxs)("p",{children:[e.description.substring(0,45)," ..."]}),Object(d.jsxs)("p",{children:["$",T]})]}),Object(d.jsxs)("div",{children:[i.token&&Object(d.jsxs)("div",{className:"consumerGoods--card-adminText-button",onClick:w,children:[" ",Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.c,{})})]}),C&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:"are you sure you would like to delete this?"}),Object(d.jsx)("div",{onClick:g,children:"yes"}),Object(d.jsx)("div",{onClick:S,children:"no"})]})]})]})})},M=function(e){return Object(d.jsx)("div",{className:"consumerGoods",children:e.items&&e.items.map((function(e){return Object(d.jsx)(E,{id:e._id,name:e.name,description:e.description,price:e.price,bucketPhotoId:e.bucketPhotoId},e._id)}))})},z=function(){var e=h(),t=(e.isLoading,e.error,e.sendRequest),s=(e.clearError,Object(n.useState)()),c=Object(j.a)(s,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("".concat("https://rossbuyz.herokuapp.com/api","/admin/getBulk"));case 3:s=e.sent,r(s.findBulk),console.log(s.findBulk),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(d.jsxs)("div",{className:"consumerGoods-block",children:[a&&0===a.length&&Object(d.jsx)("h1",{className:"consumerGoods-noGoods",children:"Bulk Items Coming Soon!"}),a&&Object(d.jsx)(M,{items:a})]})},R=function(e){var t=Object(o.g)().biId,s=Object(n.useState)(!1),c=Object(j.a)(s,2),a=c[0],r=c[1],i=Object(o.f)(),l=Object(n.useContext)(u),b=h(),x=(b.isLoading,b.error),f=b.sendRequest,v=b.clearError,g=Object(n.useState)(),N=Object(j.a)(g,2),y=N[0],C=N[1],I=Object(n.useState)(),w=Object(j.a)(I,2),S=w[0],D=w[1];Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var s,c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("".concat("https://rossbuyz.herokuapp.com/api","/admin/getABulkItem/").concat(t));case 2:null!=(s=e.sent).findItem&&(console.log(s),C(s.findItem),c=s.findItem.price.toString(),n=c.slice(0,c.length-2)+"."+c.slice(c.length-2),D(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,f,l.token]);var L=Object(n.useState)(!1),T=Object(j.a)(L,2),E=(T[0],T[1],Object(n.useState)(!1)),M=Object(j.a)(E,2),z=(M[0],M[1],function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat("https://rossbuyz.herokuapp.com/api","/admin/deleteBulk/").concat(t),"DELETE",null,{Authorization:"Bearer "+l.token});case 3:i("/"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()),R=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"aConsumerItem",children:[Object(d.jsx)(k,{error:x,onClear:v}),y&&S&&Object(d.jsx)("div",{className:"aConsumerItem-itemContainer",children:Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-infoContainer",children:[Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-img-container",children:Object(d.jsx)("img",{className:"aConsumerItem-itemContainer-img",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(y.bucketPhotoId),alt:"".concat(y.description)})}),Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-labels",children:[Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-labels-info",children:[Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-description",children:y.name}),Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-description",children:y.description.slice(0,250)}),S&&Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-description",children:S})]}),l.token&&Object(d.jsxs)("div",{className:"aConsumerItem-itemContainer-labels-button-wrapper",children:[Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-button",onClick:R,children:Object(d.jsx)("div",{className:"marginTop",children:Object(d.jsx)(p.c,{})})}),a&&Object(d.jsxs)("div",{className:"purchaseModal-purchasedModal",children:[Object(d.jsx)("div",{className:"purchaseModal-purchasedModal-text",children:Object(d.jsx)("h2",{children:" are you sure you would like to delete this? "})}),Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-deleteButtons",onClick:z,children:"yes"}),Object(d.jsx)("div",{className:"aConsumerItem-itemContainer-labels-deleteButtons",onClick:B,children:"no"})]})]})]})]})})]})},B=function(e){var t=Object(n.useContext)(u),s=h(),c=(s.isLoading,s.error,s.sendRequest),a=(s.clearError,Object(n.useState)()),r=Object(j.a)(a,2),i=r[0],o=r[1];Object(n.useEffect)((function(){var s=function(){var s=Object(O.a)(m.a.mark((function s(){var n;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c("".concat("https://rossbuyz.herokuapp.com/api","/admin/getCustomer/").concat(e.consumer),"GET",null,{Authorization:"Bearer "+t.token});case 2:n=s.sent,console.log(n),o(n.findConsumer);case 5:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();s()}),[c,t.token,e.consumer]);return Object(d.jsx)("div",{onClick:function(){t.setMessageRef(e.consumer),t.setMessageBoardId(e.messageBoard)},className:"adminMessages-messageBoards-item",children:i&&Object(d.jsxs)("div",{children:[i.firstName," ",i.lastName," ",Object(d.jsx)("br",{}),i.email," "]})})},_=function(e){return Object(d.jsx)("div",{className:"adminMessages-messageBoards-counter",children:e.items&&e.items.map((function(e){return Object(d.jsx)(B,{messageBoard:e._id,messages:e.messages,consumer:e.consumer,hidden:e.hidden},e._id)}))})},P=function(){var e=Object(n.useContext)(u),t=h(),s=t.isLoading,c=t.error,a=t.sendRequest,r=t.clearError,i=Object(w.a)(),o=i.register,l=i.handleSubmit,j=function(){var t=Object(O.a)(m.a.mark((function t(s){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("".concat("https://rossbuyz.herokuapp.com/api","/customer/login"),"POST",JSON.stringify({email:s.email,password:s.password}),{"Content-Type":"application/json"});case 3:c=t.sent,e.customerLogin(c.customerId,c.customerToken),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"loginPadding",children:[s&&Object(d.jsx)(D,{asOverlay:!0}),Object(d.jsx)(k,{error:c,onClear:r}),Object(d.jsxs)("form",{onSubmit:l(j),children:[Object(d.jsx)("label",{children:"email:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},o("email"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"password:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({type:"password"},o("password"))),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"welcome-button",children:"login"})]})]})},G=function(){var e=Object(n.useContext)(u),t=h(),s=t.isLoading,c=t.error,a=t.sendRequest,r=t.clearError,i=Object(w.a)(),l=i.register,j=i.handleSubmit,b=(Object(o.f)(),function(){var t=Object(O.a)(m.a.mark((function t(s){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("".concat("https://rossbuyz.herokuapp.com/api","/customer/signup"),"POST",JSON.stringify({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password}),{"Content-Type":"application/json"});case 3:c=t.sent,e.customerLogin(c.customerId,c.customerToken),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}());return Object(d.jsxs)("div",{className:"loginPadding",children:[s&&Object(d.jsx)(D,{asOverlay:!0}),Object(d.jsx)(k,{error:c,onClear:r}),Object(d.jsxs)("form",{onSubmit:j(b),children:[Object(d.jsx)("div",{children:"first name:"}),Object(d.jsx)("input",Object(f.a)({},l("firstName"))),Object(d.jsx)("div",{children:"last name:"}),Object(d.jsx)("input",Object(f.a)({},l("lastName"))),Object(d.jsx)("div",{children:"email:"}),Object(d.jsx)("input",Object(f.a)({},l("email"))),Object(d.jsx)("div",{children:"password:"}),Object(d.jsx)("input",Object(f.a)({type:"password"},l("password"))),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"welcome-button",children:"signup"})]})]})},A=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),s=t[0],c=t[1],a=function(){!0===s?c(!1):!1===s&&c(!0)};return Object(d.jsxs)("div",{className:"welcome",children:[Object(d.jsxs)("div",{className:"welcome--intro",children:[Object(d.jsx)("h1",{children:"Welcome!"}),Object(d.jsxs)("p",{children:[" ","Here at importbuyz.com we value your patronage. Login to save card details, edit delivery details, and get answers to any questions about incoming orders. Thanks for shopping with us!"]})]}),Object(d.jsxs)("div",{className:"welcome--welcome",children:[s&&Object(d.jsxs)("div",{children:[Object(d.jsx)(P,{}),Object(d.jsxs)("p",{className:"welcome--welcome--text",children:["did you mean"," ",Object(d.jsx)("div",{className:"welcome--welcome--text-toggle",onClick:a,children:"signup?"})]})]}),!s&&Object(d.jsxs)("div",{children:[Object(d.jsx)(G,{}),Object(d.jsxs)("p",{className:"welcome--welcome--text",children:["did you mean"," ",Object(d.jsx)("div",{className:"welcome--welcome--text-toggle",onClick:a,children:"login?"})]})]})]})]})},q=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(),r=Object(j.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(!1),b=Object(j.a)(l,2),p=(b[0],b[1]),x=Object(n.useState)(),v=Object(j.a)(x,2),g=v[0],N=v[1],y=Object(n.useState)(),C=Object(j.a)(y,2),I=C[0],S=C[1],L=Object(n.useState)(!1),T=Object(j.a)(L,2),E=(T[0],T[1]),M=Object(n.useState)(!0),z=Object(j.a)(M,2),R=z[0],B=z[1];Object(n.useRef)();Object(n.useEffect)((function(){if(s){var e=new FileReader;e.onload=function(){o(e.result)},e.readAsDataURL(s)}}),[s]),Object(n.useEffect)((function(){if(g){var e=new FileReader;e.onload=function(){S(e.result)},e.readAsDataURL(g)}}),[g]);var _=Object(n.useContext)(u),P=Object(w.a)({name:"",price:"",description:"",bulkName:"",bulkDescription:"",bulkPrice:"",image:null,bulkImage:null}),G=P.register,A=P.handleSubmit,q=P.reset,J=P.formState.isSubmitSuccessful;Object(n.useEffect)((function(){J&&q({name:"",price:"",description:"",bulkName:"",bulkDescription:"",bulkPrice:""}),o(null),S(null)}),[q,J]);var U=h(),V=U.isLoading,F=U.error,H=U.sendRequest,$=U.clearError,W=Object(n.useState)(),Q=Object(j.a)(W,2),Z=(Q[0],Q[1],function(){var e=Object(O.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),c=t.priceD.concat(t.priceC),e.prev=2,(n=new FormData).append("bucketPhotoId",s),n.append("name",t.name),n.append("description",t.description),n.append("price",Number(c)),e.next=10,H("".concat("https://rossbuyz.herokuapp.com/api","/admin/createConsumerItem"),"POST",n,{Authorization:"Bearer "+_.token});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()),K=function(){var e=Object(O.a)(m.a.mark((function e(t){var s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),s=t.bulkPrice.concat(t.priceC),e.prev=2,(c=new FormData).append("bucketPhotoId",g),c.append("name",t.bulkName),c.append("description",t.bulkDescription),c.append("price",Number(s)),e.next=10,H("".concat("https://rossbuyz.herokuapp.com/api","/admin/createBulkItem"),"POST",c,{Authorization:"Bearer "+_.token});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){!0===R?(B(!1),o(null),S(null)):(B(!0),o(null),S(null))};return Object(d.jsx)("div",{className:"addItem",children:Object(d.jsxs)("div",{className:"addItem-block",children:[Object(d.jsx)(k,{error:F,onClear:$}),V&&Object(d.jsx)(D,{asOverlay:!0}),R&&Object(d.jsxs)("div",{className:"addItem-box",children:[Object(d.jsx)("div",{className:"textsize",onClick:X,children:"\ud83d\udd01"}),Object(d.jsx)("div",{className:"addItem-title",children:Object(d.jsx)("h2",{children:"consumer good"})}),Object(d.jsx)("form",{className:"addItem-form",onSubmit:A(Z),children:Object(d.jsxs)("div",{className:"addItem-inputs",children:[Object(d.jsx)("label",{className:"addItem-picInput-label",for:"input",children:"add image"}),Object(d.jsx)("input",Object(f.a)(Object(f.a)({id:"input"},G("cImage")),{},{type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){var t;e.target.files||1===e.target.files.length?(t=e.target.files[0],c(t),p(!0)):p(!1)},className:"addItem-picInput"})),Object(d.jsx)("div",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"product"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({maxLength:"40"},G("name"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"description"}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",Object(f.a)({maxLength:"250"},G("description"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"price"}),Object(d.jsx)("br",{}),"$",Object(d.jsx)("input",Object(f.a)({},G("priceD"))),Object(d.jsx)("br",{}),"\xa2",Object(d.jsx)("input",Object(f.a)(Object(f.a)({defaultValue:"00"},G("priceC")),{},{maxLength:"2"})),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"addItem-submitButton",children:"submit"})]})}),i&&Object(d.jsx)("img",{className:"image-upload__preview",src:i,alt:"preview"})]}),!R&&Object(d.jsxs)("div",{className:"addItem-box",children:[Object(d.jsx)("div",{className:"textsize",onClick:X,children:"\ud83d\udd01"}),Object(d.jsx)("div",{className:"addItem-title",children:Object(d.jsx)("h2",{children:"bulk"})}),Object(d.jsx)("form",{className:"addItem-form",onSubmit:A(K),children:Object(d.jsxs)("div",{className:"addItem-inputs",children:[Object(d.jsx)("label",{className:"addItem-picInput-label",for:"input2",children:"add image"}),Object(d.jsx)("input",Object(f.a)(Object(f.a)({id:"input2"},G("bulkImage")),{},{type:"file",accept:".jpg,.png,.jpeg",onChange:function(e){var t;e.target.files||1===e.target.files.length?(t=e.target.files[0],N(t),E(!0)):p(!1)},className:"addItem-picInput"})),Object(d.jsx)("div",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"product"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",Object(f.a)({},G("bulkName"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"description"}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",Object(f.a)({},G("bulkDescription"))),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"price"}),Object(d.jsx)("br",{}),"$",Object(d.jsx)("input",Object(f.a)({},G("bulkPrice"))),Object(d.jsx)("br",{}),"\xa2",Object(d.jsx)("input",Object(f.a)(Object(f.a)({defaultValue:"00"},G("priceC")),{},{maxLength:"2"})),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"addItem-submitButton",children:"submit"})]})}),I&&Object(d.jsx)("img",{className:"image-upload__preview",src:I,alt:"preview"})]})]})})},J=function(e){var t=Object(n.useContext)(u),s=e.sender===t.userId?Object(d.jsx)("div",{className:"ilblock",children:"me"}):Object(d.jsx)("div",{className:"ilblock",children:"customer"});return Object(d.jsxs)("div",{className:"adminMessages-aMessage",children:[Object(d.jsx)("div",{className:"ilblock",children:s})," ",Object(d.jsx)("div",{className:"ilblock",children:e.message})]})},U=function(e){return Object(d.jsxs)("div",{className:"adminMessages-messageContainer-messages",children:[Object(d.jsx)("div",{ref:e.scroll}),e.items.map((function(e){return Object(d.jsx)(J,{sender:e.sender,message:e.message},e._id)})).reverse()]})},V=function(){var e=Object(n.useContext)(u);return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("div",{className:"navbar--left",children:Object(d.jsx)(l.c,{to:"/",children:Object(d.jsx)(p.i,{})})}),Object(d.jsxs)("div",{className:"navbar--right",children:[Object(d.jsx)(l.c,{className:"navbar--right-bulk",to:"/bulkItems",children:Object(d.jsx)(p.j,{})}),Object(d.jsx)(l.c,{className:"navbar--right-retail",to:"/consumerGoods",children:Object(d.jsx)(p.d,{})}),!e.isLoggedIn&&!e.customerIsLoggedIn&&Object(d.jsx)(l.c,{className:"navbar--right-login",to:"/welcome",children:Object(d.jsx)(p.g,{})}),e.customerIsLoggedIn&&Object(d.jsx)(l.c,{className:"navbar--right-login",to:"/details",children:Object(d.jsx)(p.h,{})}),e.customerIsLoggedIn&&Object(d.jsx)(l.c,{className:"navbar--right-login",to:"/yourMessages",children:Object(d.jsx)(p.b,{})}),e.isLoggedIn&&Object(d.jsx)(l.c,{className:"navbar--right-login",to:"/itemQue",children:Object(d.jsx)(p.k,{})}),e.isLoggedIn&&Object(d.jsx)(l.c,{className:"navbar--right-login",to:"/addItem",children:Object(d.jsx)(p.a,{})}),e.isLoggedIn&&Object(d.jsx)(l.c,{className:"navbar--right-login",to:"/messages",children:Object(d.jsx)(p.b,{})})]})]})},F=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)(V,{}),e.children]})},H=function(){var e=Object(n.useContext)(u),t=h(),s=(t.isLoading,t.error),c=t.sendRequest,a=t.clearError,r=Object(w.a)(),i=r.register,o=r.handleSubmit,l=function(){var t=Object(O.a)(m.a.mark((function t(s){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://rossbuyz.herokuapp.com/api","/admin/login"),"POST",JSON.stringify({username:s.username,password:s.password}),{"Content-Type":"application/json"});case 3:n=t.sent,e.login(n.userId,n.token),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"michaelLogin",children:Object(d.jsxs)("div",{className:"michaelLogin-background",children:[Object(d.jsx)(k,{error:s,onClear:a}),Object(d.jsx)("form",{onSubmit:o(l),children:Object(d.jsxs)("div",{className:"michaelLogin-input-top",children:[Object(d.jsx)("label",{className:"michaelLogin-input",children:"\ud83d\ude01"}),Object(d.jsx)("label",{className:"michaelLogin-input",children:"username"}),Object(d.jsx)("input",Object(f.a)({className:"michaelLogin-input"},i("username"))),Object(d.jsx)("label",{className:"michaelLogin-input",children:"password"}),Object(d.jsx)("input",Object(f.a)(Object(f.a)({className:"michaelLogin-input"},i("password")),{},{type:"password"})),Object(d.jsx)("button",{children:"login"})]})})]})})},$=s(31),W=function(){var e=Object(n.useContext)(u),t=h(),s=(t.isLoading,t.error),c=t.sendRequest,a=t.clearError,r=Object(n.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1],b=Object(w.a)({message:""}),x=b.register,v=b.handleSubmit,g=b.reset,N=b.formState.isSubmitSuccessful;Object(n.useEffect)((function(){N&&g({message:""})}),[g,N]);var y=Object(n.useRef)(),C=function(){console.log("check"),y.current.scrollIntoView({behavior:"smooth"})};Object(n.useEffect)((function(){var e=Object($.a)("http://localhost:5000");console.log(e),e.on("customerMessage",(function(e){console.log(e),l(e)}))}),[]);var I=Object(n.useState)(),S=Object(j.a)(I,2),D=S[0],L=S[1],T=Object(n.useState)(),E=Object(j.a)(T,2),M=E[0],z=E[1],R=Object(n.useState)(),B=Object(j.a)(R,2),P=B[0],G=B[1];Object(n.useEffect)((function(){var t=function(){var t=Object(O.a)(m.a.mark((function t(){var s,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://rossbuyz.herokuapp.com/api","/admin/getMessages"),"GET",null,{Authorization:"Bearer "+e.token});case 3:s=t.sent,n=s.findMessages.find((function(t){return t.consumer===e.messageRef})),G(n),console.log(n),L(s.findMessages),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t(),z(!1)}),[c,e.token,e.messageRef,M,o]);var A=function(){var t=Object(O.a)(m.a.mark((function t(s){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object($.a)("http://localhost:5000"),!e.messageRef){t.next=11;break}return t.prev=2,t.next=5,c("".concat("https://rossbuyz.herokuapp.com/api","/admin/postMessage"),"POST",JSON.stringify({message:s.messages,messageBoardId:e.messageBoardId}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 5:n.emit("adminMessage",1e5*Math.random()),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:z(!0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"adminMessages",children:[Object(d.jsx)(k,{error:s,onClear:a}),Object(d.jsx)("div",{className:"adminMessages-messageBoards",children:D&&Object(d.jsx)(_,{items:D})}),Object(d.jsx)("div",{className:"adminMessages-messageContainer",children:P&&Object(d.jsx)(U,{scroll:y,items:P.messages})}),Object(d.jsx)("div",{className:"adminMessages-form-border",children:Object(d.jsx)("form",{className:"adminMessages-form",onSubmit:v(A),children:Object(d.jsxs)("div",{className:"adminMessages-form-form",children:[Object(d.jsx)("button",{onClick:function(){e.messageRef&&setTimeout(C,1e3)},className:"adminMessages-form-button",children:Object(d.jsx)("div",{className:"marginTopAdminMail",children:Object(d.jsx)(p.l,{})})}),Object(d.jsx)("div",{className:"adminMessages-form-textArea",children:Object(d.jsx)("textarea",Object(f.a)(Object(f.a)({},x("messages")),{},{className:"adminMessages-form-textArea-input"}))})]})})})]})},Q=function(e){var t=Object(n.useContext)(u);return Object(d.jsxs)("div",{className:"customerMessage-aMessage",children:[t.customerId===e.sender&&Object(d.jsx)("div",{className:"ilblock",children:"me:\xa0 "}),!t.customerId===e.sender&&Object(d.jsx)("div",{className:"ilblock",children:"buyz:\xa0 "}),Object(d.jsxs)("div",{className:"ilblock",children:[" ",e.message]})]})},Z=function(e){var t=e.delivered?Object(d.jsx)("div",{className:"delivstatus-shipped",children:"shipped"}):Object(d.jsx)("div",{className:"delivstatus-pending",children:"pending"});return Object(d.jsx)("div",{className:"customerItemList-m-border",children:Object(d.jsxs)("div",{className:"customerItemList-m",children:[Object(d.jsx)("img",{className:"customerItemList-m-picture",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(e.bucketPhotoId),alt:e.description}),Object(d.jsx)("div",{children:e.name}),Object(d.jsx)("div",{children:t})]})})},K=function(e){return Object(d.jsx)("div",{className:"customerItemList",children:e.items.map((function(e){return Object(d.jsx)(Z,{id:e._id,name:e.name,bucketPhotoId:e.bucketPhotoId,description:e.description,delivered:e.delivered},e._id)}))})},X=function(){var e=Object(n.useContext)(u),t=h(),s=(t.isLoading,t.error),c=t.sendRequest,a=t.clearError,r=Object(w.a)({message:""}),i=r.register,o=r.handleSubmit,l=r.reset,b=r.formState.isSubmitSuccessful;Object(n.useEffect)((function(){b&&l({message:""})}),[l,b]);var p=Object(n.useState)(),x=Object(j.a)(p,2),v=x[0],g=x[1],N=Object(n.useState)(),y=Object(j.a)(N,2),C=y[0],I=y[1],S=Object(n.useState)(),D=Object(j.a)(S,2),L=D[0],T=D[1],E=Object(n.useRef)(),M=function(){console.log("check"),E.current.scrollIntoView({behavior:"smooth"})};Object(n.useEffect)((function(){var e=Object($.a)("http://localhost:5000");console.log(e),e.on("adminMessage",(function(e){console.log(e),T(e)}))}),[]),Object(n.useEffect)((function(){var t=function(){var t=Object(O.a)(m.a.mark((function t(){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://rossbuyz.herokuapp.com/api","/customer/getMessages"),"GET",null,{Authorization:"Bearer "+e.customerToken});case 3:s=t.sent,g(s.findMessageBoard.messages),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t(),I(!1)}),[c,C,e.customerToken,L]);var z=function(){var t=Object(O.a)(m.a.mark((function t(s){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object($.a)("http://localhost:5000");try{c("".concat("https://rossbuyz.herokuapp.com/api","/customer/postMessage"),"POST",JSON.stringify({message:s.messages}),{"Content-Type":"application/json",Authorization:"Bearer "+e.customerToken}),n.emit("customerMessage",1e5*Math.random())}catch(a){}I(!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=Object(n.useState)(),B=Object(j.a)(R,2),_=B[0],P=B[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(O.a)(m.a.mark((function t(){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://rossbuyz.herokuapp.com/api","/customer/items"),"GET",null,{Authorization:"Bearer "+e.customerToken});case 3:s=t.sent,console.log(s),P(s.findGoods),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[c,e.customerToken]),Object(d.jsxs)("div",{className:"customerMessage",children:[Object(d.jsx)(k,{error:s,onClear:a}),v&&Object(d.jsx)("div",{className:"customerMessage-messages",children:Object(d.jsxs)("div",{className:"customerMessage-messages-messages",children:[Object(d.jsx)("div",{ref:E}),v.map((function(e){return Object(d.jsx)(Q,{sender:e.sender,message:e.message},e._id)})).reverse()]})}),Object(d.jsx)("div",{className:"customerMessage-items",children:_&&Object(d.jsx)(K,{items:_})}),Object(d.jsx)("div",{className:"customerMessage-form-border",children:Object(d.jsx)("form",{className:"customerMessage-form",onSubmit:o(z),children:Object(d.jsxs)("div",{className:"customerMessage-form-form",children:[Object(d.jsx)("button",{onClick:function(){setTimeout(M,1e3)},className:"customerMessage-form-button",children:"submit"}),Object(d.jsx)("div",{className:"customerMessage-form-textArea",children:Object(d.jsx)("textarea",Object(f.a)(Object(f.a)({},i("messages")),{},{className:"customerMessage-form-textArea-input"}))})]})})})]})},Y=(s(55),function(){var e=Object(n.useContext)(u),t=h(),s=t.isLoading,c=t.error,a=t.sendRequest,r=t.clearError,i=Object(w.a)({number:"",exp_month:"",exp_year:"",cvc:""}),o=i.register,l=i.handleSubmit,b=i.reset,p=i.formState.isSubmitSuccessful,x=Object(n.useState)(),v=Object(j.a)(x,2),g=v[0],N=v[1],y=Object(n.useState)(),C=Object(j.a)(y,2),I=C[0],S=C[1],L=Object(n.useState)(),T=Object(j.a)(L,2),E=T[0],M=T[1],z=Object(n.useState)(!1),R=Object(j.a)(z,2),B=R[0],_=R[1],P=Object(n.useState)(!1),G=Object(j.a)(P,2),A=G[0],q=G[1];Object(n.useEffect)((function(){p&&b({number:"",exp_month:"",exp_year:"",cvc:""})}),[b,p]),Object(n.useEffect)((function(){var t=function(){var t=Object(O.a)(m.a.mark((function t(){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a("".concat("https://rossbuyz.herokuapp.com/api","/customer/getCustomer"),"GET",null,{Authorization:"Bearer "+e.customerToken});case 2:s=t.sent,N(s.findUser),S(s.customer),console.log(s),s.findUser.deliveryDetails&&s.findUser.deliveryDetails.firstName&&s.findUser.deliveryDetails.lastName&&s.findUser.deliveryDetails.street&&s.findUser.deliveryDetails.city&&s.findUser.deliveryDetails.state&&s.findUser.deliveryDetails.country&&s.findUser.deliveryDetails.zipCode?_(!0):_(!1),s.customer.default_source?q(!0):q(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[a,E,e.customerToken]);var J=function(){var t=Object(O.a)(m.a.mark((function t(s){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("http://localhost:5000/api/customer/updateDetails","PATCH",JSON.stringify({firstName:s.firstName,lastName:s.lastName,street:s.street,state:s.state,city:s.city,country:s.country,zipCode:s.zipCode}),{"Content-Type":"application/json",Authorization:"Bearer "+e.customerToken});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:M(1e6*Math.random());case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(O.a)(m.a.mark((function t(s){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("http://localhost:5000/api/customer/updateCard","PATCH",JSON.stringify({number:s.number,exp_month:s.exp_month,exp_year:s.exp_year,cvc:s.cvc}),{"Content-Type":"application/json",Authorization:"Bearer "+e.customerToken});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:M(1e6*Math.random());case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),V=Object(n.useState)(!1),F=Object(j.a)(V,2),H=F[0],$=F[1],W=function(){$(!0!==H)};return Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)(k,{error:c,onClear:r}),s&&Object(d.jsx)(D,{asOverlay:!0}),Object(d.jsx)("div",{onClick:e.customerLogout,children:" logout"}),Object(d.jsxs)("div",{className:"details-container",children:[Object(d.jsx)("h3",{className:"details-title",children:"Hey there, we need some details to perfect your order(s)!"}),Object(d.jsxs)("div",{className:"details-form",children:[!H&&Object(d.jsxs)("div",{className:"details-toggle",onClick:W,children:[" ",Object(d.jsx)("button",{className:"details-toggle-button",children:"edit card "})," ",!B&&Object(d.jsx)("div",{children:"\u274e we still need some details from you"})]}),H&&Object(d.jsxs)("div",{className:"details-toggle",onClick:W,children:[Object(d.jsxs)("button",{className:"details-toggle-button-blue",children:["edit details"," "]}),I&&!I.default_source&&Object(d.jsx)("div",{children:"\u274e we still need this"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"details-delivInfo",children:!H&&g&&Object(d.jsxs)("form",{onSubmit:l(J),children:[Object(d.jsx)("h3",{children:"delivery details"}),g.deliveryDetails&&Object(d.jsx)("div",{children:g.deliveryDetails.firstName&&g.deliveryDetails.lastName&&g.deliveryDetails.street&&g.deliveryDetails.city&&g.deliveryDetails.state&&g.deliveryDetails.country&&g.deliveryDetails.zipCode&&B&&Object(d.jsx)("div",{children:"we have your information \u2705"})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:"First Name:"}),(!g.deliveryDetails||!g.deliveryDetails.firstName)&&Object(d.jsx)("input",Object(f.a)({},o("firstName"))),g.deliveryDetails&&g.deliveryDetails.firstName&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.firstName},o("firstName")))]}),Object(d.jsx)("div",{children:"Last Name:"}),(!g.deliveryDetails||!g.deliveryDetails.lastName)&&Object(d.jsx)("input",Object(f.a)({},o("lastName"))),g.deliveryDetails&&g.deliveryDetails.lastName&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.lastName},o("lastName"))),Object(d.jsx)("div",{children:"Street:"}),g.deliveryDetails&&g.deliveryDetails.street&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.street},o("street"))),(!g.deliveryDetails||!g.deliveryDetails.street)&&Object(d.jsx)("input",Object(f.a)({},o("street"))),Object(d.jsx)("div",{children:"city:"}),(!g.deliveryDetails||!g.deliveryDetails.city)&&Object(d.jsx)("input",Object(f.a)({},o("city"))),g.deliveryDetails&&g.deliveryDetails.city&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.city},o("city"))),Object(d.jsx)("div",{children:"State:"}),(!g.deliveryDetails||!g.deliveryDetails.state)&&Object(d.jsx)("input",Object(f.a)({},o("state"))),g.deliveryDetails&&g.deliveryDetails.state&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.state},o("state"))),Object(d.jsx)("div",{children:"Zip Code:"}),(!g.deliveryDetails||!g.deliveryDetails.zipCode)&&Object(d.jsx)("input",Object(f.a)({},o("zipCode"))),g.deliveryDetails&&g.deliveryDetails.zipCode&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.zipCode},o("zipCode"))),Object(d.jsx)("div",{children:"Country:"}),(!g.deliveryDetails||!g.deliveryDetails.country)&&Object(d.jsx)("input",Object(f.a)({},o("country"))),g.deliveryDetails&&g.deliveryDetails.country&&Object(d.jsx)("input",Object(f.a)({defaultValue:g.deliveryDetails.country},o("country"))),Object(d.jsx)("button",{className:"details-submitButton",children:"submit"})]})]})}),H&&Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"details-paymentInfo",children:[Object(d.jsx)("h3",{children:"card details"}),I&&I.default_source&&A&&Object(d.jsx)("div",{children:"we have your information \u2705"}),I&&Object(d.jsxs)("form",{onSubmit:l(U),children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"ilblock",children:[Object(d.jsx)("div",{className:"details-payment-info-cn",children:"card number:"}),Object(d.jsx)("input",Object(f.a)({className:"details-paymentInfo-num"},o("number")))]}),Object(d.jsxs)("div",{className:"details-paymentInfo-cvc-block",children:[Object(d.jsx)("div",{className:"ilblock",children:"cvc:"}),Object(d.jsx)("input",Object(f.a)(Object(f.a)({},o("cvc")),{},{className:"details-paymentInfo-cvc inlblock"}))]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"ilblock",children:[Object(d.jsx)("div",{children:"month:"}),Object(d.jsx)("input",Object(f.a)(Object(f.a)({},o("exp_month")),{},{className:"details-paymentInfo-exp"}))]}),Object(d.jsxs)("div",{className:"ilblock details-paymentInfo-exp-blockyear",children:[Object(d.jsx)("div",{children:"year:"}),Object(d.jsx)("input",Object(f.a)(Object(f.a)({},o("exp_year")),{},{className:"details-paymentInfo-exp"}))]}),Object(d.jsx)("button",{className:"details-paymentInfo-button",children:"submit"})]})]})]})})]})]})]})]})}),ee=s.p+"static/media/homepage-freight.58eb4e11.jpg",te=s.p+"static/media/generic-cloud.55d3ab4e.png",se=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!=t.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&t.current.classList.add("animationRight")}))})).observe(t.current)})),Object(d.jsx)(l.b,{to:"bulkItems/".concat(e.id),children:Object(d.jsx)("div",{ref:t,className:"home-inventory-bulkSlide-item",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"home-inventory-bulkSlide-item-img-wrapper",children:Object(d.jsx)("img",{className:"home-inventory-bulkSlide-item-img",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(e.bucketPhotoId),alt:e.description})}),Object(d.jsx)("div",{children:e.name})]})})})},ce=function(e){return Object(d.jsx)("div",{className:"home-inventory-bulkSlide-item-stuff no-scrollbar",children:e.items.map((function(e){return Object(d.jsx)(se,{id:e._id,name:e.name,bucketPhotoId:e.bucketPhotoId,description:e.description},e._id)}))})},ne=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!=t.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&t.current.classList.add("animationRight")}))})).observe(t.current)})),Object(d.jsx)(l.b,{to:"consumerGoods/".concat(e.id),children:Object(d.jsxs)("div",{ref:t,className:"home-inventory-goodsSlide-item",children:[Object(d.jsx)("div",{className:"home-inventory-goodsSlide-item-img-wrapper",children:Object(d.jsx)("img",{className:"home-inventory-goodsSlide-item-img",src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(e.bucketPhotoId),alt:e.description})}),Object(d.jsx)("div",{children:e.name})]})})},ae=function(e){var t=e.items.filter((function(e){return!e.sold}));return Object(d.jsx)("div",{className:"home-inventory-goodsSlide-item-stuff no-scrollbar",children:e.items&&t.map((function(t){return Object(d.jsx)(ne,{name:t.name,bucketPhotoId:t.bucketPhotoId,description:e.description,id:t._id},t._id)}))})},re=function(e){var t=Object(n.useContext)(u),s=h(),c=(s.isLoading,s.error),a=s.sendRequest,r=s.clearError,i=Object(n.useState)(),o=Object(j.a)(i,2),b=o[0],p=o[1];Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("".concat("https://rossbuyz.herokuapp.com/api","/admin/getBulk"));case 3:t=e.sent,p(t.findBulk),console.log(t.findBulk),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var x=Object(n.useState)(),f=Object(j.a)(x,2),v=f[0],g=f[1];Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("".concat("https://rossbuyz.herokuapp.com/api","/admin/getConsumerItems"));case 3:t=e.sent,console.log(t.findConsumerItems),g(t.findConsumerItems),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var N=Object(n.useState)(0),y=Object(j.a)(N,2),C=(y[0],y[1],Object(n.useRef)(null));console.log(C);var I=Object(n.useRef)(null);Object(n.useEffect)((function(){null!=I.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&I.current.classList.add("animationRight")}))})).observe(I.current)}));var w=Object(n.useRef)(null),S=Object(n.useRef)(null);Object(n.useEffect)((function(){null!=S.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&S.current.classList.add("animationRight")}))})).observe(S.current)}));var D=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!=D.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&D.current.classList.add("animationRight")}))})).observe(D.current)})),Object(n.useEffect)((function(){null!=w.current&&new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&w.current.classList.add("animationLeft")}))})).observe(w.current)})),Object(d.jsxs)("div",{className:"ignore",children:[Object(d.jsx)(k,{error:c,onClear:r}),Object(d.jsxs)("div",{className:"home-bench",children:[Object(d.jsx)("img",{className:"home",src:ee,alt:"we sell merchandise, welcome"}),t.token&&Object(d.jsx)("div",{onClick:t.logout,className:"home-logout",children:Object(d.jsx)("h3",{children:"logout"})}),ee&&Object(d.jsx)("div",{className:"home-header",children:Object(d.jsx)("h1",{children:"importbuyz.com"})})]}),Object(d.jsxs)("div",{className:"home-goods",children:[Object(d.jsxs)("div",{ref:I,className:"home-goods-header-wrapping1",children:[Object(d.jsx)("img",{src:te,className:"home-goods-header-img",alt:"come shop with us at importbuyz.com"}),Object(d.jsx)("h1",{className:"home-goods-header-hey",children:"Hey,"}),Object(d.jsx)("h1",{className:"home-goods-header",children:"Shop with us!"})]}),Object(d.jsxs)("div",{ref:w,className:"home-goods-header2-wrapping2",children:[Object(d.jsx)("img",{src:te,className:"home-goods-header2-img2",alt:"come shop with us at importbuyz.com"}),Object(d.jsx)("h1",{className:"home-goods-header2-hey2",children:"Safe,"}),Object(d.jsxs)("h1",{className:"home-goods-header2",children:[" ",Object(d.jsx)("span",{className:"colorGrey",children:"and"})," easy!"]})]})]}),Object(d.jsxs)("div",{className:"home-inventory",children:[Object(d.jsx)("div",{className:"home-inventory-bulkTitle",children:Object(d.jsx)(l.b,{className:"home-link",to:"/bulkItems",children:"Bulk"})}),Object(d.jsxs)("div",{className:"home-inventory-bulkSlide",children:[b&&0===b.length&&Object(d.jsx)("div",{ref:S,className:"home-noItems",children:Object(d.jsx)("h1",{children:"Bulk Items Coming Soon!"})}),b&&Object(d.jsx)(ce,{items:b})]}),Object(d.jsx)("div",{className:"home-inventory-goodsTitle",children:Object(d.jsx)(l.b,{className:"home-link",to:"/consumerGoods",children:Object(d.jsx)("div",{children:"Retail"})})}),Object(d.jsx)("div",{className:"home-of",children:Object(d.jsxs)("div",{className:"home-inventory-goodsSlide",children:[v&&0===v.filter((function(e){return!e.sold})).length&&Object(d.jsx)("div",{ref:D,className:"home-noItems",children:Object(d.jsx)("h1",{children:"Retail Items Coming Soon!"})}),v&&Object(d.jsx)(ae,{items:v})]})})]})]})},ie=function(e){var t=Object(n.useContext)(u),s=h(),c=s.isLoading,a=s.error,r=s.sendRequest,i=s.clearError,o=function(){var s=Object(O.a)(m.a.mark((function s(){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,r("".concat("https://rossbuyz.herokuapp.com/api","/admin/updateConsumerItem"),"PATCH",JSON.stringify({itemId:e.id}),{"Content-Type":"application/json",Authorization:"Bearer "+t.token});case 3:s.next=7;break;case 5:s.prev=5,s.t0=s.catch(0);case 7:t.setDeliveredRef(1e6*Math.random());case 8:case"end":return s.stop()}}),s,null,[[0,5]])})));return function(){return s.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"itemsContainer-itemsList-anItem",children:[c&&Object(d.jsx)(D,{asOverlay:!0}),Object(d.jsx)(k,{error:a,onClear:i}),Object(d.jsxs)("div",{className:"itemsContainer-itemsList-anItem-item",children:[Object(d.jsx)("div",{className:"itemsContainer-itemsList-anItem-item-img-imgWrap",children:Object(d.jsx)("img",{className:"itemsContainer-itemsList-anItem-item-img",alt:e.description,src:"https://s3.us-east-1.amazonaws.com/michaelrossbucket/".concat(e.bucketPhotoId)})}),Object(d.jsxs)("div",{className:"itemsContainer-itemsList-anItem-item-itemDetails",children:[Object(d.jsx)("h2",{className:"itemsContainer-itemsList-anItem-item-itemDetails-name",children:e.name}),Object(d.jsx)("p",{className:"itemsContainer-itemsList-anItem-item-itemDetails-description",children:e.description})]})]}),Object(d.jsxs)("div",{className:"itemsContainer-itemsList-details",children:[Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"first name:"})," ",e.deliveryDetails.firstName]}),Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"last name:"})," ",e.deliveryDetails.lastName]}),Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"email:"})," ",e.deliveryDetails.email]}),Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"street:"})," ",e.deliveryDetails.street]}),Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"city:"})," ",e.deliveryDetails.city]}),Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"state:"})," ",e.deliveryDetails.state]}),Object(d.jsxs)("h4",{className:"itemsContainer-itemsList-details-text",children:[Object(d.jsx)("span",{children:"zip code:"}),e.deliveryDetails.zipCode]})]}),Object(d.jsx)("div",{className:"itemsContainer-itemsList-details-deliver",children:Object(d.jsx)("div",{onClick:o,children:Object(d.jsx)(p.m,{})})})]})},oe=function(e){var t=e.items.filter((function(e){return e.sold&&!e.delivered}));return console.log(t),Object(d.jsxs)("div",{className:"itemsContainer-itemsList",children:[0===t.length&&Object(d.jsx)("h1",{className:"itemsContainer-noItems",children:"No Items Need To Be Delivered"}),e.items&&t.map((function(e){return Object(d.jsx)(ie,{id:e._id,name:e.name,description:e.description,price:e.price,bucketPhotoId:e.bucketPhotoId,deliveryDetails:e.deliveryDetails},e._id)}))]})},le=function(){var e=Object(n.useContext)(u),t=h(),s=(t.isLoading,t.error),c=t.sendRequest,a=t.clearError,r=Object(n.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("".concat("https://rossbuyz.herokuapp.com/api","/admin/getConsumerItems"));case 3:t=e.sent,l(t.findConsumerItems),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[c,e.deliveredRef]),Object(d.jsxs)("div",{className:"itemsContainer",children:[Object(d.jsx)(k,{error:s,onClear:a}),o&&Object(d.jsx)(oe,{items:o})," "]})},ue=function(){var e,t=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),d=Object(j.a)(u,2),b=d[0],m=d[1],O=Object(n.useCallback)((function(e,t,s){a(t),m(e);var c=s||new Date((new Date).getTime()+864e5);l(c),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:c.toISOString()}))}),[]),h=Object(n.useCallback)((function(){a(null),l(null),m(null),localStorage.removeItem("userData")}),[]);Object(n.useEffect)((function(){if(s&&o){var e=o.getTime()-(new Date).getTime();c=setTimeout(h,e)}else clearTimeout(c)}),[s,h,o]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&O(e.userId,e.token,new Date(e.expiration))}),[O]);var p=Object(n.useState)(!1),x=Object(j.a)(p,2),f=x[0],v=x[1],g=Object(n.useState)(),N=Object(j.a)(g,2),k=N[0],y=N[1],C=Object(n.useState)(!1),I=Object(j.a)(C,2),w=I[0],S=I[1],D=Object(n.useCallback)((function(e,t,s){v(t),S(e);var c=s||new Date((new Date).getTime()+864e5);y(c),localStorage.setItem("customerData",JSON.stringify({customerId:e,customerToken:t,expiration:c.toISOString()}))}),[]),L=Object(n.useCallback)((function(){v(null),y(null),S(null),localStorage.removeItem("customerData")}),[]);Object(n.useEffect)((function(){if(f&&k){var e=k.getTime()-(new Date).getTime();c=setTimeout(L,e)}else clearTimeout(c)}),[f,L,k]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("customerData"));e&&e.customerToken&&new Date(e.expiration)>new Date&&D(e.customerId,e.customerToken,new Date(e.expiration))}),[D]);var T=Object(n.useState)(),E=Object(j.a)(T,2),M=E[0],z=E[1],R=Object(n.useState)(),B=Object(j.a)(R,2),_=B[0],P=B[1],G=Object(n.useState)(),A=Object(j.a)(G,2),q=A[0],J=A[1];return{token:s,login:O,logout:h,userId:b,customerToken:f,customerLogin:D,customerLogout:L,customerId:w,messageRef:M,setMessageRef:z,messageBoardId:_,setMessageBoardId:P,deliveredRef:q,setDeliveredRef:J}}(),s=t.token,a=t.login,r=t.logout,i=t.userId,b=t.customerToken,m=t.customerLogin,O=t.customerLogout,h=t.customerId,p=t.messageRef,x=t.setMessageRef,f=t.messageBoardId,v=t.setMessageBoardId,g=t.deliveredRef,N=t.setDeliveredRef;return e=s?Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/messages",element:Object(d.jsx)(W,{})}),Object(d.jsx)(o.a,{path:"/messages/:md",element:Object(d.jsx)(U,{})}),Object(d.jsx)(o.a,{path:"/addItem",element:Object(d.jsx)(q,{})}),Object(d.jsx)(o.a,{path:"/itemQue",element:Object(d.jsx)(le,{})}),Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(re,{})}),Object(d.jsx)(o.a,{path:"/consumerGoods",element:Object(d.jsx)(I,{})}),Object(d.jsx)(o.a,{path:"/consumerGoods/:goodId",element:Object(d.jsx)(T,{})}),Object(d.jsx)(o.a,{path:"/bulkItems",element:Object(d.jsx)(z,{})}),Object(d.jsx)(o.a,{path:"/bulkItems/:biId",element:Object(d.jsx)(R,{})}),Object(d.jsx)(o.a,{path:"*",element:Object(d.jsx)(re,{})})]}):b?Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/yourMessages",element:Object(d.jsx)(X,{})}),Object(d.jsx)(o.a,{path:"/details",element:Object(d.jsx)(Y,{})}),Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(re,{})}),Object(d.jsx)(o.a,{path:"/consumerGoods",element:Object(d.jsx)(I,{})}),Object(d.jsx)(o.a,{path:"/consumerGoods/:goodId",element:Object(d.jsx)(T,{})}),Object(d.jsx)(o.a,{path:"/bulkItems",element:Object(d.jsx)(z,{})}),Object(d.jsx)(o.a,{path:"/bulkItems/:biId",element:Object(d.jsx)(R,{})}),Object(d.jsx)(o.a,{path:"*",element:Object(d.jsx)(re,{})})]}):Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(re,{})}),Object(d.jsx)(o.a,{path:"/michaelross",element:Object(d.jsx)(H,{})}),Object(d.jsx)(o.a,{path:"/consumerGoods",element:Object(d.jsx)(I,{})}),Object(d.jsx)(o.a,{path:"/consumerGoods/:goodId",element:Object(d.jsx)(T,{})}),Object(d.jsx)(o.a,{path:"/bulkItems",element:Object(d.jsx)(z,{})}),Object(d.jsx)(o.a,{path:"/bulkItems/:biId",element:Object(d.jsx)(R,{})}),Object(d.jsx)(o.a,{path:"/welcome",element:Object(d.jsx)(A,{})}),Object(d.jsx)(o.a,{path:"*",element:Object(d.jsx)(re,{})})]}),Object(d.jsx)(u.Provider,{value:{isLoggedIn:!!s,token:s,userId:i,login:a,logout:r,customerIsLoggedIn:!!b,customerToken:b,customerId:h,customerLogin:m,customerLogout:O,messageRef:p,setMessageRef:x,messageBoardId:f,setMessageBoardId:v,deliveredRef:g,setDeliveredRef:N},children:Object(d.jsx)(l.a,{children:Object(d.jsx)(F,{children:e})})})},je=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,59)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(ue,{})}),document.getElementById("root")),je()}},[[56,1,2]]]);
//# sourceMappingURL=main.1fb40f70.chunk.js.map